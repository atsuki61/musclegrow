# MuscleGrow - 筋トレ記録アプリ

## 概要

筋トレの記録と可視化ができる Web アプリです。日々のトレーニング内容（種目・重量・回数）を記録し、Big3（ベンチプレス・スクワット・デッドリフト）の目標達成率をプログレスバーで確認できます。カレンダー形式で過去の記録を振り返ったり、グラフで成長の推移を見ることで、継続のモチベーションを維持できる設計にしました。

## 技術スタック

- **フロントエンド**: Next.js 15 (App Router) / TypeScript / Tailwind CSS / shadcn/ui
- **バックエンド**: Supabase (PostgreSQL) / Drizzle ORM
- **認証**: Better Auth
- **ホスティング**: Vercel

## 工夫した点

UX を重視した機能設計を行いました。ログインなしでも localStorage を使って記録できるゲストモードを実装し、会員登録のハードルを下げています。登録後はゲスト時のデータを Supabase へ自動移行する仕組みを作り、データが消えない安心感を提供しました。また、同じ種目を記録する際に前回の重量・回数を自動表示することで入力の手間を減らし、成長を実感しやすい UI にしています。履歴画面ではスワイプ操作による削除・編集機能を framer-motion で実装し、スマホでの直感的な操作を実現しました。

技術面では、TypeScript の厳格モードで `any` 型を禁止し、Drizzle ORM と Zod による型安全な設計を徹底しました。DB クエリは Promise.all で並列実行してパフォーマンスを向上させ、トランザクション処理でデータの整合性を担保しています。ローカルストレージと DB の両方からデータを取得し、日付を比較して最新の記録を表示するハイブリッドなデータ管理も実装しました。

---

## 開発環境セットアップ

```bash
pnpm install
pnpm dev
```

## トラブルシューティング

### ビルドマニフェストエラー（ENOENT）が発生する場合

コード変更時に `_buildManifest.js.tmp.*` が見つからないエラーが発生する場合、以下の対処法を試してください：

1. **キャッシュをクリアして再起動**（推奨）:

   ```bash
   pnpm dev:clean
   ```

2. **手動でクリーンアップ**:

   ```bash
   pnpm clean
   pnpm dev
   ```

3. **Turbopack を無効化して試す**:

   ```bash
   pnpm dev:webpack
   ```

4. **開発サーバーを完全に停止して再起動**:
   - ターミナルで `Ctrl+C` でサーバーを停止
   - `.next` フォルダを削除
   - `pnpm dev` で再起動

このエラーは Windows 環境で Turbopack を使用している際に、ファイルシステムの監視タイミングの問題で発生することがあります。上記の方法で解決しない場合は、`dev:webpack` を使用して通常の webpack モードで開発を続けることができます。
